# PayPal Setup Guide for Money Buddy

This guide will help you set up PayPal payment processing for your Money Buddy app.

## üîë **Step 1: Get PayPal Developer Account**

1. **Go to PayPal Developer**: Visit [developer.paypal.com](https://developer.paypal.com)
2. **Sign In**: Use your existing PayPal account or create a new one
3. **Access Developer Dashboard**: Click "Log into Dashboard"

## üöÄ **Step 2: Create Your Application**

1. **Create App**: 
   - Click **"My Apps & Credentials"**
   - Click **"Create App"**
   - Fill in details:
     - **App Name**: "Money Buddy"
     - **Merchant**: Select your business account (or create one)
     - **Features**: Check "Accept Payments"

2. **Get Your Credentials**:
   - **Client ID**: Copy this (used in both client and server)
   - **Client Secret**: Copy this (server-side only)
   - **Environment**: Start with "Sandbox" for testing

## ‚öôÔ∏è **Step 3: Update Environment Variables**

Add these to your `.env.local` file:

```env
# PayPal Processing
PAYPAL_CLIENT_ID=your_actual_paypal_client_id_here
PAYPAL_CLIENT_SECRET=your_actual_paypal_client_secret_here
PAYPAL_ENVIRONMENT=sandbox
NEXT_PUBLIC_PAYPAL_CLIENT_ID=your_actual_paypal_client_id_here
```

**‚ö†Ô∏è Replace the placeholder values with your actual PayPal credentials!**

## üß™ **Step 4: Test Your Setup**

### PayPal Sandbox Test Accounts:
When you created your app, PayPal automatically created test accounts for you:

1. **Go to**: Dashboard ‚Üí "Sandbox" ‚Üí "Accounts"
2. **Personal Account** (for testing as a buyer):
   - Email: Usually something like `sb-xxxxx@personal.example.com`
   - Password: Generated by PayPal
3. **Business Account** (your merchant account):
   - Email: Usually something like `sb-xxxxx@business.example.com`
   - Password: Generated by PayPal

### Test Credit Cards (for card payments through PayPal):
```
Visa: 4111111111111111
Mastercard: 5555555555554444
Amex: 378282246310005
CVV: Any 3-4 digits
Expiry: Any future date
```

### Test the Integration:
1. Start your development server: `npm run dev`
2. Navigate to the deposit page
3. Select "PayPal / Venmo"
4. Enter a test amount (e.g., $10.00)
5. Click through the PayPal flow

## üí∞ **Step 5: PayPal Fees & Benefits**

### Fees:
- **Standard Rate**: 2.9% + $0.30 per transaction
- **Same as Square**: But gives users more payment options

### Benefits:
- ‚úÖ **Multiple Payment Methods**: PayPal balance, Venmo, cards, bank accounts
- ‚úÖ **Familiar Experience**: Most users already have PayPal accounts
- ‚úÖ **Buyer Protection**: Built-in dispute resolution
- ‚úÖ **Global Reach**: Accept payments from international users
- ‚úÖ **Mobile Optimized**: Great mobile payment experience

## üîß **Step 6: Production Setup**

### Business Account Verification:
1. **Complete Business Profile**: Add business information
2. **Verify Identity**: Upload required documents
3. **Add Bank Account**: For receiving funds
4. **Confirm Email**: Verify your business email

### Go Live:
1. **Switch Environment**: Change `PAYPAL_ENVIRONMENT` to `production`
2. **Production Credentials**: Get production Client ID and Secret
3. **Update Environment Variables**:
   ```env
   PAYPAL_ENVIRONMENT=production
   PAYPAL_CLIENT_ID=your_production_client_id
   PAYPAL_CLIENT_SECRET=your_production_client_secret
   NEXT_PUBLIC_PAYPAL_CLIENT_ID=your_production_client_id
   ```

## üìä **Step 7: User Experience**

### What Users See:
1. **Select PayPal**: Choose PayPal/Venmo payment method
2. **Enter Amount**: See fee breakdown clearly
3. **PayPal Flow**: Click PayPal buttons ‚Üí Login ‚Üí Confirm payment
4. **Multiple Options**: Can pay with:
   - PayPal balance
   - Venmo balance
   - Credit/debit cards
   - Bank accounts
   - Buy now, pay later options

### Payment Flow:
1. User selects amount and PayPal
2. PayPal buttons appear with branding
3. User clicks "Pay with PayPal"
4. Redirected to PayPal (or modal)
5. Completes payment
6. Returns to Money Buddy
7. Funds added to wallet instantly

## üîí **Security Features**

- ‚úÖ **PCI Compliance**: PayPal handles all sensitive data
- ‚úÖ **Fraud Protection**: Built-in fraud detection
- ‚úÖ **Buyer Protection**: Dispute resolution system
- ‚úÖ **Secure Tokens**: Payment tokens never expose card data

## üö® **Troubleshooting**

### Common Issues:

**"Client ID not found"**:
- Verify your Client ID is correct
- Make sure it matches the environment (sandbox vs production)

**"Payment buttons not loading"**:
- Check that `NEXT_PUBLIC_PAYPAL_CLIENT_ID` is set correctly
- Verify the PayPal script is loading (check browser console)

**"Payment capture failed"**:
- Ensure the order was approved by the user
- Check your server logs for detailed error messages

### Debug Steps:
1. Check browser console for JavaScript errors
2. Verify environment variables are set
3. Test with PayPal's sandbox accounts
4. Check PayPal developer dashboard logs

## üéØ **Next Steps**

1. **Get Your Credentials**: Replace placeholder values with real PayPal credentials
2. **Test Integration**: Use sandbox accounts to test payments
3. **User Testing**: Get feedback on the PayPal payment flow
4. **Go Live**: Complete business verification and switch to production

## üìà **Why PayPal is Great for Money Buddy**

### User Benefits:
- **Choice**: Multiple payment methods in one flow
- **Trust**: PayPal brand recognition and buyer protection
- **Convenience**: Don't need to enter card details if they have PayPal
- **Mobile**: Excellent mobile payment experience

### Business Benefits:
- **Higher Conversion**: Users prefer familiar payment methods
- **Reduced Fraud**: PayPal's fraud protection
- **Global Reach**: Accept international payments easily
- **Alternative to Square**: Gives users choice when Square doesn't work

Your Money Buddy app now supports PayPal payments! Users can pay with PayPal, Venmo, or cards through PayPal's secure platform. üí≥üéâ

## üÜò **Support**

### PayPal Support:
- [PayPal Developer Docs](https://developer.paypal.com/docs/)
- [PayPal Developer Community](https://developer.paypal.com/community/)
- [PayPal Support](https://www.paypal.com/us/smarthelp/contact-us)

### Money Buddy Support:
- Check browser console for client-side errors
- Review server logs for API errors
- Test with PayPal sandbox accounts first
- Verify all environment variables are set correctly
